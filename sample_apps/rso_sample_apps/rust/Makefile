.PHONY: build test clean all run docs fmt

all: clean fmt build test docs

build:
	@echo "ğŸ‘·ğŸ½â€â™€ï¸building rust project..."
	cargo build

test:
	@echo "ğŸ‘·ğŸ½â€â™€ï¸running tests..."
	RUST_LOG=debug cargo test

clean:
	@echo "ğŸ‘·ğŸ½â€â™€ï¸cleaning up..."
	cargo clean

run:
	@echo "ğŸ‘·ğŸ½â€â™€ï¸running rust project..."
	RUST_LOG=info cargo run

fmt:
	@echo "ğŸ‘·ğŸ½â€â™€ï¸formatting the rust project..."
	cargo fmt --all

docs:
	@echo "ğŸ‘·ğŸ½â€â™€ï¸building project documentation..."
	cargo doc --no-deps
	open target/doc/riot_rso_sample_app/index.html

debug:
	@echo "ğŸ‘·ğŸ½â€â™€ï¸debugging rust project..."
	RUST_BACKTRACE=1 RUST_LOG=debug cargo run
